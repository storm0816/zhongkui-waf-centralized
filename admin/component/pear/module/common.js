layui.define(["jquery","element","table"],function(e){"use strict";var t=layui.jquery,n=layui.table;layui.element;e("common",new function(){this.checkField=function(e,t){let a=n.checkStatus(e.config.id).data;if(0===a.length)return"";let i="";for(let e=0;e<a.length;e++)i+=a[e][t]+",";return i=i.substring(0,i.length-1)},this.isModile=function(){return t(window).width()<=768},this.submit=function(e,n,a,i,o,s,u,l){void 0!==n?t.ajaxSetup({data:JSON.stringify(n)}):t.ajaxSetup({data:""}),void 0!==s&&t.ajaxSetup({dataType:s}),void 0!==u&&t.ajaxSetup({async:u}),void 0!==l&&t.ajaxSetup({cache:l}),t.ajax({url:e,contentType:"application/json",type:a||"get",success:null!=o?o:function(e){1===e.code?layer.msg(e.msg,{icon:1,time:1e3},function(){let e=parent.layer.getFrameIndex(window.name);e&&parent.layer.close(e),i&&parent.layui.table.reload(i)}):layer.msg(e.msg,{icon:2,time:1e3})},error:function(e){if(401!==e.status){if(404!==e.status)return 419===e.status?(layer.msg("长时间未操作，自动刷新后重试！",{icon:5}),void setTimeout(function(){window.location.reload()},2e3)):void(429!==e.status?500===e.status&&layer.msg(e.responseJSON.message,{icon:5}):layer.msg("尝试次数太多，请一分钟后再试",{icon:5}));layer.msg("请求url地址错误，请确认后刷新重试",{icon:5})}else layer.msg("权限不足，您无法访问受限资源或数据",{icon:5})},complete:function(e,t){}})}})});